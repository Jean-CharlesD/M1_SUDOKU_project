---
title: "SUDAUCUL_main"
author: "Jean-Charles DELMAS & Camille CARRETTE"
date: "24/02/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

###Compilation de GenGrille

```{r}
Rcpp::sourceCpp("C:/Users/camil/Desktop/ROUX/FAC/Master Bioinfo/S2/HAX815X R avancé/Projet/SUDAUCUL_project/genGrille.cpp")
```

###Test de GenGrille

```{r}
raw <- GenGrille(FALSE,1) #generation de la grille en format liste avec des 0 dans les cases vides
for(i in 1:81){
  if(raw[i] == 0){
    raw[i] = " "
  }
}
m <- matrix(raw, ncol = 9, nrow = 9)  #transformation de la liste en matice
m
```


### 2. On charge la bibliothèque Shiny qui nous permettra de réaliser l'interface et on y ajoute les difficultés
```{r}
library(shiny)
library(shinyMatrix)
if (interactive()) {
  # UI
  ui <- fluidPage(
    selectInput('NumGrig',label = 'Difficulté', c("Facile", "Normal", "Difficile", "T'as le SUD au KU")),
    actionButton("add", "Générer le SUDAUCUL !"),
    conditionalPanel(condition = "input.add > 0",
    uiOutput("grid")))
  
  # Server
  server <- function(input, output, session) {
    
    # adding Matrix
    observe({
      if (!is.null(input$add)) {
        raw <- GenGrille(FALSE,1)
        for(i in 1:81){ #remplace les 0 par des cases vides
          if(raw[i] == 0){
            raw[i] = ""
          }
        }
        m = reactive({matrix(raw, ncol = 9, nrow = 9)})
        output$grid <- renderUI({
         div(matrixInput(inputId = "newGrid", value = m()),)
        })
      }
    })
  }
  shinyApp(ui, server)
}
```






